{"version":3,"sources":["ParseTrace.js","TraceEntry.js","App.js","serviceWorker.js","index.js"],"names":["ParseTrace","numLines","functionData","currentStack","parse","fileData","data","split","_this","length","currentIndex","header1","header2","match","console","log","parseLine","line","parts","functionNumber","parseInt","entryType","id","timeEnter","memoryEnter","timeExit","memoryExit","timeDiff","memoryDiff","depth","name","internal","file","params","return","children","parent","formatFloat","slice","lastParent","push","pop","time","parseFloat","TraceEntry","getChildContainer","props","entry","isExpanded","react_default","a","createElement","className","data-entryid","onClick","onCollapse","map","childId","Object","assign","key","isChild","allEntries","onExpand","renderParams","paramsArray","param","substr","join","number","Math","round","this","parentEl","timePercent","memoryPercent","parentTime","parentMem","bgStyle","backgroundColor","concat","entryClasses","classNames","isHighlighted","style","title","Component","App","state","isReady","traceData","timeFilterInput","functionFilterInput","filterTime","filterFunction","onDrop","acceptedFiles","reader","FileReader","onabort","onerror","onload","parser","setState","result","forEach","readAsText","renderEntry","src_TraceEntry_0","expandEntry","collapseEntry","entryId","objectSpread","defineProperty","highlightEntries","mapValues","el","shouldHighlightEntry","expandTree","indexOf","entryHasExpandedChildren","childEntry","some","onChangeFilterFunction","event","currentTarget","value","onChangeFilterTime","applyFilters","getHighlightedElements","call","document","getElementsByClassName","onNextHighlight","highlights","nextPos","find","boundingRectangle","getBoundingClientRect","top","height","window","scrollTo","scrollY","onPrevHighlight","reverse","_this2","clickHandler","es","_ref","getRootProps","getInputProps","htmlFor","type","onChange","Boolean","location","hostname","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.100fbd74.chunk.js","sourcesContent":["export default class ParseTrace {\n\n\tnumLines = 0;\n\n\tfunctionData = {};\n\n\tcurrentStack = [];\n\n\tparse = ( fileData ) => {\n\t\tconst data = fileData.split( \"\\n\" );\n\n\t\tthis.numLines = data.length;\n\n\t\tlet currentIndex = 0;\n\n\t\tconst header1 = data[ currentIndex ++ ];\n\t\tconst header2 = data[ currentIndex ++ ];\n\n\t\tif ( !header1.match( /Version: [23].*/ ) || !header2.match( /File format: [2-4]/ ) ) {\n\t\t\tconsole.log( 'Invalid file' );\n\t\t\tconsole.log( header1, header2 );\n\t\t}\n\n\t\tfor ( ; currentIndex < this.numLines; currentIndex ++ ) {\n\t\t\tthis.parseLine( data[ currentIndex ] );\n\t\t}\n\n\t\treturn this.functionData;\n\t};\n\n\tparseLine = ( line ) => {\n\t\tconst parts = line.split( \"\\t\" );\n\n\t\tif ( parts.length < 5 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst functionNumber = parseInt( parts[ 1 ], 10 );\n\t\tif ( !functionNumber ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst entryType = parts[ 2 ];\n\n\t\tif ( !this.functionData[ functionNumber ] ) {\n\t\t\tthis.functionData[ functionNumber ] = {\n\t\t\t\tid: functionNumber,\n\t\t\t\ttimeEnter: 0,\n\t\t\t\tmemoryEnter: 0,\n\t\t\t\ttimeExit: 0,\n\t\t\t\tmemoryExit: 0,\n\t\t\t\ttimeDiff: 0,\n\t\t\t\tmemoryDiff: 0,\n\t\t\t\tdepth: 0,\n\t\t\t\tname: '',\n\t\t\t\tinternal: 0,\n\t\t\t\tfile: '',\n\t\t\t\tline: '',\n\t\t\t\tparams: [],\n\t\t\t\treturn: '',\n\t\t\t\tchildren: [],\n\t\t\t\tparent: 0,\n\t\t\t};\n\t\t}\n\n\t\tswitch ( entryType ) {\n\t\t\t// Function enter\n\t\t\tcase '0':\n\t\t\t\tthis.functionData[ functionNumber ].depth = parseInt( parts[ 0 ], 10 );\n\t\t\t\tthis.functionData[ functionNumber ].timeEnter = this.formatFloat( parts[ 3 ] );\n\t\t\t\tthis.functionData[ functionNumber ].memoryEnter = this.formatFloat( parts[ 4 ] );\n\t\t\t\tthis.functionData[ functionNumber ].name = parts[ 5 ];\n\t\t\t\tthis.functionData[ functionNumber ].internal = !!parts[ 6 ];\n\t\t\t\tthis.functionData[ functionNumber ].file = parts[ 8 ];\n\t\t\t\tthis.functionData[ functionNumber ].line = parts[ 9 ];\n\t\t\t\tif ( parts[ 7 ] ) {\n\t\t\t\t\tthis.functionData[ functionNumber ].params = [parts[ 7 ]]\n\t\t\t\t} else {\n\t\t\t\t\tthis.functionData[ functionNumber ].params = parts.slice( 11 );\n\t\t\t\t}\n\n\t\t\t\tif ( this.currentStack.length ) {\n\t\t\t\t\tthis.functionData[ functionNumber ].parent = this.currentStack[ this.currentStack.length - 1 ];\n\t\t\t\t\tconst lastParent = this.currentStack[ this.currentStack.length - 1 ];\n\t\t\t\t\tthis.functionData[ lastParent ].children.push( functionNumber );\n\t\t\t\t}\n\n\t\t\t\tthis.currentStack.push( functionNumber );\n\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\n\t\t\t\tthis.functionData[ functionNumber ].timeExit = this.formatFloat( parts[ 3 ] );\n\t\t\t\tthis.functionData[ functionNumber ].memoryExit = this.formatFloat( parts[ 4 ] );\n\t\t\t\tthis.functionData[ functionNumber ].timeDiff = this.formatFloat( this.functionData[ functionNumber ].timeExit - this.functionData[ functionNumber ].timeEnter );\n\t\t\t\tthis.functionData[ functionNumber ].memoryDiff = this.formatFloat( this.functionData[ functionNumber ].memoryExit - this.functionData[ functionNumber ].memoryEnter );\n\n\t\t\t\tthis.currentStack.pop();\n\n\t\t\t\tbreak;\n\t\t\tcase 'R':\n\t\t\t\tthis.functionData[ functionNumber ].return = parts[ 5 ];\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log( 'Invalid line', line );\n\t\t}\n\t};\n\n\tformatFloat = ( time ) => {\n\t\treturn parseFloat( time );\n\t};\n}\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport './TraceEntry.css';\n\nclass TraceEntry extends Component {\n\n\tgetChildContainer = () => {\n\t\tif ( !this.props.entry.children.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( !this.props.entry.isExpanded ) {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"TraceEntry-children collapsed\"\n\t\t\t\t\tdata-entryid={this.props.entry.id}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.props.onExpand( this.props.entry.id )\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"TraceEntry-children expanded\" data-entryid={this.props.entry.id}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"TraceEntry-children-leftpad\"\n\t\t\t\t\tdata-entryid={this.props.entry.id}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.props.onCollapse( this.props.entry.id )\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div className=\"TraceEntry-children-container\">\n\t\t\t\t\t{this.props.entry.children.map( ( childId ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TraceEntry\n\t\t\t\t\t\t\t\t{...this.props}\n\t\t\t\t\t\t\t\tkey={childId}\n\t\t\t\t\t\t\t\tisChild={true}\n\t\t\t\t\t\t\t\tentry={this.props.allEntries[ childId ]}\n\t\t\t\t\t\t\t/> )\n\t\t\t\t\t} )}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderParams = ( paramsArray ) => {\n\t\treturn ' ' + paramsArray.map( ( param ) => ( param.substr( 0, 50 ) ) ).join( ', ' ) + ' ';\n\t};\n\n\tformatFloat = ( number ) => {\n\t\treturn + ( Math.round( number + \"e+5\" ) + \"e-5\" );\n\t};\n\n\trender() {\n\t\tconst entry = this.props.entry;\n\n\t\t// Calculate percentage difference for time and memory\n\t\tconst parentEl = this.props.allEntries[ this.props.entry.parent ];\n\n\t\tlet timePercent = 0;\n\t\tlet memoryPercent = 0;\n\n\t\tif ( parentEl ) {\n\t\t\tconst parentTime = parentEl.timeDiff;\n\t\t\tconst parentMem = parentEl.memoryDiff;\n\n\t\t\tif ( parentTime !== 0 ) {\n\t\t\t\ttimePercent = ( entry.timeDiff / parentTime ) * 100;\n\n\t\t\t}\n\t\t\tif ( parentMem !== 0 ) {\n\t\t\t\tmemoryPercent = ( entry.memoryDiff / parentMem ) * 100;\n\t\t\t}\n\t\t}\n\n\t\tconst bgStyle = {};\n\t\tbgStyle.backgroundColor = `rgba(255, 0, 0, ${timePercent / 100})`;\n\n\t\tconst entryClasses = classNames( \"TraceEntry-data\", {\n\t\t\tisHighlighted: entry.isHighlighted,\n\t\t} );\n\n\t\treturn (\n\t\t\t<div className=\"TraceEntry\">\n\t\t\t\t<div className={entryClasses} style={bgStyle}>\n\t\t\t\t\t<div className=\"TraceEntry-func\" title={entry.file + ':' + entry.line}>\n\t\t\t\t\t\t<div className=\"TraceEntry-funcname\">{entry.name}</div>\n\t\t\t\t\t\t(\n\t\t\t\t\t\t<div className=\"TraceEntry-args\">\n\t\t\t\t\t\t\t{entry.params.length ? this.renderParams( entry.params ) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) -> <div className=\"TraceEntry-return\">{entry.return.substr( 0, 50 )}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"TraceEntry-metric\">\n\t\t\t\t\t\t{timePercent > 0 ? (\n\t\t\t\t\t\t\t<div className=\"TraceEntry-metric-percentage\">\n\t\t\t\t\t\t\t\t( {this.formatFloat( timePercent )}% ) &nbsp;\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{this.formatFloat( entry.timeDiff )}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"TraceEntry-metric\">\n\t\t\t\t\t\t{memoryPercent > 0 ? (\n\t\t\t\t\t\t\t<div className=\"TraceEntry-metric-percentage\">\n\t\t\t\t\t\t\t\t( {this.formatFloat( memoryPercent )}% ) &nbsp;\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{this.formatFloat( entry.memoryDiff )}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/*<div className=\"TraceEntry-metric\">{this.props.entry.timeEnter}</div>*/}\n\t\t\t\t\t{/*<div className=\"TraceEntry-metric\">{this.props.entry.timeExit}</div>*/}\n\t\t\t\t\t{/*<div className=\"TraceEntry-metric\">{this.props.entry.memoryEnter}</div>*/}\n\t\t\t\t\t{/*<div className=\"TraceEntry-metric\">{this.props.entry.memoryExit}</div>*/}\n\t\t\t\t</div>\n\t\t\t\t{this.getChildContainer()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TraceEntry;\n","import React, { Component } from 'react';\nimport Dropzone from 'react-dropzone';\nimport './App.css';\nimport ParseTrace from './ParseTrace';\n\nimport TraceEntry from './TraceEntry';\nimport { map, mapValues } from \"lodash\";\n\nclass App extends Component {\n\n\tstate = {\n\t\tisReady: false,\n\t\ttraceData: [],\n\t\ttimeFilterInput: \"\",\n\t\tfunctionFilterInput: \"\",\n\t\tfilterTime: 0,\n\t\tfilterFunction: \"\",\n\t};\n\n\n\tonDrop = ( acceptedFiles ) => {\n\t\tconst reader = new FileReader();\n\n\t\treader.onabort = () => console.log( 'file reading was aborted' );\n\t\treader.onerror = () => console.log( 'file reading has failed' );\n\t\t//reader.addEventListener( 'progress', console.log );\n\t\treader.onload = () => {\n\t\t\t// Do whatever you want with the file contents\n\t\t\tlet parser = new ParseTrace();\n\t\t\tthis.setState( { isReady: true, traceData: parser.parse( reader.result ) } );\n\t\t};\n\n\t\tacceptedFiles.forEach( file => reader.readAsText( file, 'utf-8' ) )\n\t};\n\n\trenderEntry = ( entry ) => {\n\t\tif ( entry.parent ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<TraceEntry\n\t\t\t\tkey={entry.id}\n\t\t\t\tentry={entry}\n\t\t\t\tallEntries={this.state.traceData}\n\t\t\t\tonExpand={this.expandEntry}\n\t\t\t\tonCollapse={this.collapseEntry}\n\t\t\t\tfilterTime={this.state.filterTime}\n\t\t\t\tfilterFunction={this.state.filterFunction}\n\t\t\t/> )\n\t};\n\n\texpandEntry = ( entryId ) => {\n\t\tthis.setState( {\n\t\t\ttraceData: {\n\t\t\t\t...this.state.traceData,\n\t\t\t\t[ entryId ]: { ...this.state.traceData[ entryId ], isExpanded: 1 }\n\t\t\t}\n\t\t} )\n\t};\n\n\tcollapseEntry = ( entryId ) => {\n\t\tthis.setState( {\n\t\t\ttraceData: {\n\t\t\t\t...this.state.traceData,\n\t\t\t\t[ entryId ]: { ...this.state.traceData[ entryId ], isExpanded: 0 }\n\t\t\t}\n\t\t} )\n\t};\n\n\thighlightEntries = () => {\n\t\tthis.setState( {\n\t\t\ttraceData: mapValues( this.state.traceData, el => (\n\t\t\t\t{ ...el, isHighlighted: this.shouldHighlightEntry( el ) }\n\t\t\t) )\n\t\t}, this.expandTree );\n\t}\n\n\tshouldHighlightEntry = ( entry ) => {\n\t\treturn (\n\t\t\t( this.state.filterTime && entry.timeDiff >= this.state.filterTime )\n\t\t\t|| ( this.state.filterFunction && entry.name.indexOf( this.state.filterFunction ) !== - 1 )\n\t\t);\n\t};\n\texpandTree = () => {\n\t\tthis.setState( {\n\t\t\ttraceData: mapValues( this.state.traceData, entry => {\n\t\t\t\treturn { ...entry, isExpanded: entry.isExpanded || this.entryHasExpandedChildren( entry ) }\n\t\t\t} )\n\t\t} );\n\t};\n\n\tentryHasExpandedChildren = ( entry ) => {\n\t\tif ( !entry ) {\n\t\t\tdebugger;\n\t\t}\n\t\treturn entry.children && entry.children.map( childId => {\n\t\t\tconst childEntry = this.state.traceData[ childId ];\n\t\t\tif ( childEntry.isExpanded || childEntry.isHighlighted || this.entryHasExpandedChildren( childEntry ) ) {\n\t\t\t\treturn childEntry;\n\t\t\t}\n\t\t\treturn {};\n\t\t} ).some( el => el.isExpanded || el.isHighlighted );\n\t};\n\n\tonChangeFilterFunction = ( event ) => {\n\t\tthis.setState( { functionFilterInput: event.currentTarget.value } )\n\t}\n\tonChangeFilterTime = ( event ) => {\n\t\tthis.setState( { timeFilterInput: event.currentTarget.value } )\n\t}\n\n\tapplyFilters = () => {\n\t\tthis.setState( {\n\t\t\tfilterTime: parseFloat( this.state.timeFilterInput ),\n\t\t\tfilterFunction: this.state.functionFilterInput,\n\t\t}, this.highlightEntries );\n\t};\n\n\tgetHighlightedElements = () => {\n\t\treturn [].slice.call( document.getElementsByClassName( 'isHighlighted' ) );\n\t};\n\n\tonNextHighlight = () => {\n\t\tconst highlights = this.getHighlightedElements();\n\t\tif ( highlights.length ) {\n\t\t\tconst nextHighlight = highlights.find( el => {\n\t\t\t\tconst boundingRectangle = el.getBoundingClientRect();\n\t\t\t\treturn boundingRectangle.top > boundingRectangle.height;\n\t\t\t} )\n\n\t\t\tconst nextPos = nextHighlight || highlights[ 0 ];\n\t\t\twindow.scrollTo( 0, window.scrollY + nextPos.getBoundingClientRect().top );\n\t\t}\n\t};\n\n\tonPrevHighlight = () => {\n\t\tconst highlights = this.getHighlightedElements().reverse();\n\t\tif ( highlights.length ) {\n\t\t\tconst nextHighlight = highlights.find( el => {\n\t\t\t\tconst boundingRectangle = el.getBoundingClientRect();\n\t\t\t\treturn boundingRectangle.top < 0;\n\t\t\t} )\n\n\t\t\tconst nextPos = nextHighlight || highlights[ 0 ];\n\t\t\twindow.scrollTo( 0, window.scrollY + nextPos.getBoundingClientRect().top );\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\" onClick={this.clickHandler}>\n\t\t\t\t{!this.state.isReady && (\n\t\t\t\t\t<Dropzone onDrop={this.onDrop}>\n\t\t\t\t\t\t{( { getRootProps, getInputProps } ) => (\n\t\t\t\t\t\t\t<div {...getRootProps()} className=\"TraceViewDropzone\">\n\t\t\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t\t\t<p>Drag and drop or click to choose a XDebug Trace File</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Dropzone>\n\t\t\t\t)}\n\t\t\t\t<div className=\"filters\">\n\t\t\t\t\t<label htmlFor=\"function-filter\">Filter by function</label>\n\t\t\t\t\t<input id=\"function-filter\" name=\"function-filter\" type=\"text\"\n\t\t\t\t\t\t   onChange={this.onChangeFilterFunction}/>\n\t\t\t\t\t<label htmlFor=\"time-filter\">Filter by time</label>\n\t\t\t\t\t<input id=\"time-filter\" name=\"time-filter\" type=\"text\" onChange={this.onChangeFilterTime}/>\n\t\t\t\t\t<button onClick={this.applyFilters}>Apply filters</button>\n\t\t\t\t</div>\n\t\t\t\t{this.state.isReady && (\n\t\t\t\t\t<div className=\"entries\">\n\t\t\t\t\t\t{map( this.state.traceData, ( entry ) => {\n\t\t\t\t\t\t\treturn this.renderEntry( entry );\n\t\t\t\t\t\t} )}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"HighlightedNav\">\n\t\t\t\t\t<button onClick={this.onPrevHighlight}>&laquo; Prev Highlight</button>\n\t\t\t\t\t<button onClick={this.onNextHighlight}>Next Highlight &raquo;</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}